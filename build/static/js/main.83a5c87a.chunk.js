(this["webpackJsonpdiscord-clone"]=this["webpackJsonpdiscord-clone"]||[]).push([[0],{108:function(e,a,t){},122:function(e,a,t){},123:function(e,a,t){"use strict";t.r(a);var n=t(0),c=t.n(n),r=t(17),l=t.n(r),o=(t(67),t(68),t(15));t(69),t(70);var i=function(e){var a=e.channelName;return c.a.createElement("div",{className:"chatHeader"},c.a.createElement("div",{className:"chatHeader__left"},c.a.createElement("h3",null,c.a.createElement("span",{className:"chatHeader__hash"},"#"),a)))},s=t(21),u=Object(s.b)({name:"user",initialState:{user:null},reducers:{login:function(e,a){e.user=a.payload},logout:function(e){e.user=null}}}),m=u.actions,d=m.login,h=m.logout,p=function(e){return e.user.user},f=u.reducer,v=t(137);t(72);var g=function(e){var a=e.timestamp,t=e.user,n=e.message;return c.a.createElement("div",{className:"message"},c.a.createElement(v.a,{src:t.photo}),c.a.createElement("div",{className:"message__info"},c.a.createElement("h4",null,t.displayName),c.a.createElement("h3",null,c.a.createElement("span",{className:"message__timestamp"},new Date(null===a||void 0===a?void 0:a.toDate()).toUTCString())),c.a.createElement("p",null,n)))},E=t(10),b=Object(s.b)({name:"app",initialState:{channelId:null,channelName:null},reducers:{setChannelInfo:function(e,a){e.channelId=a.payload.channelId,e.channelName=a.payload.channelName}}}),_=b.actions.setChannelInfo,N=function(e){return e.app.channelId},w=function(e){return e.app.channelName},y=b.reducer,O=t(23),j=t.n(O),k=j.a.initializeApp({apiKey:"AIzaSyBzZ2JXAL-F0BDN3uafPkKV5s-c9JxA5uM",authDomain:"discord-clone-7411f.firebaseapp.com",databaseURL:"https://discord-clone-7411f.firebaseio.com",projectId:"discord-clone-7411f",storageBucket:"discord-clone-7411f.appspot.com",messagingSenderId:"485472660269",appId:"1:485472660269:web:700b2af2dc284f34b681a4",measurementId:"G-9BP6SJB558"}).firestore(),S=j.a.auth(),I=new j.a.auth.GoogleAuthProvider,C=k;var M=function(){var e=Object(E.c)(p),a=Object(E.c)(N),t=Object(E.c)(w),r=Object(n.useState)(""),l=Object(o.a)(r,2),s=l[0],u=l[1],m=Object(n.useState)([]),d=Object(o.a)(m,2),h=d[0],f=d[1];return Object(n.useEffect)((function(){a&&C.collection("channels").doc(a).collection("messages").orderBy("timestamp","desc").onSnapshot((function(e){return f(e.docs.map((function(e){return e.data()})))}))}),[a]),c.a.createElement("div",{className:"chat"},c.a.createElement(i,{channelName:t}),c.a.createElement("div",{className:"chat__messages"},h.map((function(e){return c.a.createElement(g,{timestamp:e.timestamp,message:e.message,user:e.user})}))),c.a.createElement("div",{className:"chat__input"},c.a.createElement("form",null,c.a.createElement("input",{value:s,disabled:!a,onChange:function(e){return u(e.target.value)},placeholder:"Message #".concat(t)}),c.a.createElement("button",{disabled:!a,className:"chat__inputButton",type:"submit",onClick:function(t){t.preventDefault(),C.collection("channels").doc(a).collection("messages").add({timestamp:j.a.firestore.FieldValue.serverTimestamp(),message:s,user:e}),u("")}}))))},U=(t(86),t(54)),R=t.n(U);t(87);var L=function(e){var a=e.id,t=e.channelName,n=Object(E.b)();return c.a.createElement("div",{className:"sidebarChannel",onClick:function(){return n(_({channelId:a,channelName:t}))}},c.a.createElement("h6",null,c.a.createElement("span",{className:"sidebarChannel__hash"},"#"),t))};var T=function(){var e=Object(E.c)(p),a=Object(n.useState)([]),t=Object(o.a)(a,2),r=t[0],l=t[1];return Object(n.useEffect)((function(){C.collection("channels").onSnapshot((function(e){return l(e.docs.map((function(e){return{id:e.id,channel:e.data()}})))}))}),[]),c.a.createElement("div",{className:"sidebar"},c.a.createElement("div",{className:"sidebar__top"},c.a.createElement("div",{className:"sidebar__profile"},c.a.createElement(v.a,{onClick:function(){return S.signOut()},src:e.photo}),c.a.createElement("div",{className:"sidebar__profileInfo"},c.a.createElement("h4",null,e.displayName)))),c.a.createElement("div",{className:"sidebar__channels"},c.a.createElement("div",{className:"sidebar__channelsHeader"},c.a.createElement("div",{className:"sidebar__header"},c.a.createElement("h4",null,"Text Channels")),"\xa0",c.a.createElement(R.a,{onClick:function(){var e=prompt("Enter a new channel name:");e&&C.collection("channels").add({channelName:e})},className:"sidebar__addChannel"})),c.a.createElement("div",{className:"sidebar__channelsList"},r.map((function(e){var a=e.id,t=e.channel;return c.a.createElement(L,{key:a,id:a,channelName:t.channelName})})))))},A=t(136);t(90);var B=function(){return c.a.createElement("div",{className:"login"},c.a.createElement("div",{className:"login__logo"},c.a.createElement("img",{src:"https://www.freepnglogos.com/uploads/discord-logo-png/discord-logo-logodownload-download-logotipos-1.png",alt:""}),c.a.createElement("center",null,c.a.createElement("br",null),c.a.createElement("br",null),c.a.createElement("h3",null,"Hi, Buntyyy"))),c.a.createElement(A.a,{onClick:function(){S.signInWithPopup(I).catch((function(e){return alert(e.message)}))}},"Sign In"))},x=t(24),H=t.n(x),P=t(34),D=t(55),J=t.n(D).a.create({baseURL:"https://api.themoviedb.org/3"}),z=(t(108),t(56)),F=t(59),G=t.n(F);var V=function(e){var a=e.title,t=e.fetchUrl,r=e.isLargeRow,l=Object(n.useState)([]),i=Object(o.a)(l,2),s=i[0],u=i[1],m=Object(n.useState)(""),d=Object(o.a)(m,2),h=d[0],p=d[1];return Object(n.useEffect)((function(){function e(){return(e=Object(P.a)(H.a.mark((function e(){var a;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,J.get(t);case 2:return a=e.sent,u(a.data.results),e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[t]),c.a.createElement("div",{className:"row"},c.a.createElement("h2",null,a),c.a.createElement("div",{className:"row_posters"},s.map((function(e){return c.a.createElement("img",{key:e.id,onClick:function(){return function(e){h?p(""):G()((null===e||void 0===e?void 0:e.name)||"").then((function(e){var a=new URLSearchParams(new URL(e).search);p(a.get("v"))}))}(e)},className:"row_poster ".concat(r&&"row_posterLarge"),src:"".concat("https://image.tmdb.org/t/p/original/").concat(r?e.poster_path:e.backdrop_path),alt:e.name})}))),h&&c.a.createElement(z.a,{videoId:h,opts:{height:"390",width:"100%",playerVars:{autoplay:1}}}))},W="1328bf881d16428c6dcec3f5c912b0a2",K={fetchTrending:"/trending/all/week?api_key=".concat(W,"&language=en-US"),fetchNetflixOriginals:"/discover/tv?api_key=".concat(W,"&with_networks=213"),fetchTopRated:"/movie/top_rated?api_key=".concat(W,"&language=en-US"),fetchActionMovies:"/discover/movie?api_key=".concat(W,"&with_genres=28"),fetchComedyMovies:"/discover/movie?api_key=".concat(W,"&with_genres=35"),fetchHorrorMovies:"/discover/movie?api_key=".concat(W,"&with_genres=27"),fetchRomanceMovies:"/discover/movie?api_key=".concat(W,"&with_genres=10749")};t(122);var X=function(){var e,a,t=Object(n.useState)([]),r=Object(o.a)(t,2),l=r[0],i=r[1];return Object(n.useEffect)((function(){function e(){return(e=Object(P.a)(H.a.mark((function e(){var a;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,J.get(K.fetchTrending);case 2:return a=e.sent,i(a.data.results[Math.floor(Math.random()*a.data.results.length-1)]),e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),c.a.createElement("header",{className:"banner",style:{backgroudSize:"cover",backgroundPosition:"center center",backgroundImage:'url("https://image.tmdb.org/t/p/original/'.concat(null===l||void 0===l?void 0:l.backdrop_path,'")')}},c.a.createElement("div",{className:"banner_contents"},c.a.createElement("h1",{className:"banner_title"},(null===l||void 0===l?void 0:l.title)||(null===l||void 0===l?void 0:l.name)||(null===l||void 0===l?void 0:l.original_name)),c.a.createElement("div",{className:"banner_button"},c.a.createElement("button",{className:"play"}," Play Now ")),c.a.createElement("h1",{className:"banner_desp"},(null===(e=null===l||void 0===l?void 0:l.overview)||void 0===e?void 0:e.length)>a?e.substr(0,a-1)+"...":e)),c.a.createElement("div",{className:"fade"}))};var Z=function(){var e=Object(E.b)(),a=Object(E.c)(p);return Object(n.useEffect)((function(){S.onAuthStateChanged((function(a){console.log("user is:",a),e(a?d({uid:a.uid,photo:a.photoURL,email:a.email,displayName:a.displayName}):h())}))}),[e]),c.a.createElement("div",{className:"app"},a?c.a.createElement(c.a.Fragment,null,c.a.createElement(T,null),c.a.createElement(M,null),c.a.createElement(V,null)):c.a.createElement(B,null),c.a.createElement("div",null,c.a.createElement(X,null),c.a.createElement(V,{title:"NETFLIX ORIGINALS",fetchUrl:K.fetchNetflixOriginals,isLargeRow:!0}),c.a.createElement(V,{title:"TOP RATED",fetchUrl:K.fetchTopRated}),c.a.createElement(V,{title:"Trending",fetchUrl:K.fetchTrending}),c.a.createElement(V,{title:"Action Movies",fetchUrl:K.fetchActionMovies}),c.a.createElement(V,{title:"Horror Movies",fetchUrl:K.fetchHorrorMovies}),c.a.createElement(V,{title:"Comedy Movies",fetchUrl:K.fetchComedyMovies}),c.a.createElement(V,{title:"Romance Movies",fetchUrl:K.fetchRomanceMovies})))},$=Object(s.a)({reducer:{user:f,app:y}});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(E.a,{store:$},c.a.createElement(Z,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},62:function(e,a,t){e.exports=t(123)},67:function(e,a,t){},68:function(e,a,t){},69:function(e,a,t){},70:function(e,a,t){},72:function(e,a,t){},86:function(e,a,t){},87:function(e,a,t){},90:function(e,a,t){}},[[62,1,2]]]);
//# sourceMappingURL=main.83a5c87a.chunk.js.map