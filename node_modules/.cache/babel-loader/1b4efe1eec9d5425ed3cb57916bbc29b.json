{"ast":null,"code":"import _slicedToArray from\"C:\\\\Users\\\\ABC\\\\Downloads\\\\discord-clone-master\\\\discord-clone-master\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from\"react\";import\"./Sidebar.css\";import AddIcon from\"@material-ui/icons/Add\";import SidebarChannel from\"./SidebarChannel\";import{Avatar}from\"@material-ui/core\";import{selectUser}from\"./features/userSlice\";import{useSelector}from\"react-redux\";import db,{auth}from\"./firebase\";function Sidebar(){var user=useSelector(selectUser);var _useState=useState([]),_useState2=_slicedToArray(_useState,2),channels=_useState2[0],setChannels=_useState2[1];useEffect(function(){db.collection(\"channels\").onSnapshot(function(snapshot){return setChannels(snapshot.docs.map(function(doc){return{id:doc.id,channel:doc.data()};}));});},[]);var handleAddChannel=function handleAddChannel(){var channelName=prompt(\"Enter a new channel name:\");if(channelName){db.collection(\"channels\").add({channelName:channelName});}};return/*#__PURE__*/React.createElement(\"div\",{className:\"sidebar\"},/*#__PURE__*/React.createElement(\"div\",{className:\"sidebar__top\"},/*#__PURE__*/React.createElement(\"div\",{className:\"sidebar__profile\"},/*#__PURE__*/React.createElement(Avatar,{onClick:function onClick(){return auth.signOut();},src:user.photo}),/*#__PURE__*/React.createElement(\"div\",{className:\"sidebar__profileInfo\"},/*#__PURE__*/React.createElement(\"h4\",null,user.displayName)))),/*#__PURE__*/React.createElement(\"div\",{className:\"sidebar__channels\"},/*#__PURE__*/React.createElement(\"div\",{className:\"sidebar__channelsHeader\"},/*#__PURE__*/React.createElement(\"div\",{className:\"sidebar__header\"},/*#__PURE__*/React.createElement(\"h4\",null,\"Text Channels\")),\"\\xA0\",/*#__PURE__*/React.createElement(AddIcon,{onClick:handleAddChannel,className:\"sidebar__addChannel\"})),/*#__PURE__*/React.createElement(\"div\",{className:\"sidebar__channelsList\"},channels.map(function(_ref){var id=_ref.id,channel=_ref.channel;return/*#__PURE__*/React.createElement(SidebarChannel,{key:id,id:id,channelName:channel.channelName});}))));}export default Sidebar;","map":{"version":3,"sources":["C:/Users/ABC/Downloads/discord-clone-master/discord-clone-master/src/Sidebar.js"],"names":["React","useEffect","useState","AddIcon","SidebarChannel","Avatar","selectUser","useSelector","db","auth","Sidebar","user","channels","setChannels","collection","onSnapshot","snapshot","docs","map","doc","id","channel","data","handleAddChannel","channelName","prompt","add","signOut","photo","displayName"],"mappings":"iMAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,CAA2BC,QAA3B,KAA2C,OAA3C,CACA,MAAO,eAAP,CACA,MAAOC,CAAAA,OAAP,KAAoB,wBAApB,CACA,MAAOC,CAAAA,cAAP,KAA2B,kBAA3B,CACA,OAASC,MAAT,KAAuB,mBAAvB,CACA,OAASC,UAAT,KAA2B,sBAA3B,CACA,OAASC,WAAT,KAA4B,aAA5B,CACA,MAAOC,CAAAA,EAAP,EAAaC,IAAb,KAAyB,YAAzB,CAEA,QAASC,CAAAA,OAAT,EAAmB,CACjB,GAAMC,CAAAA,IAAI,CAAGJ,WAAW,CAACD,UAAD,CAAxB,CADiB,cAGeJ,QAAQ,CAAC,EAAD,CAHvB,wCAGVU,QAHU,eAGAC,WAHA,eAKjBZ,SAAS,CAAC,UAAM,CACdO,EAAE,CAACM,UAAH,CAAc,UAAd,EAA0BC,UAA1B,CAAqC,SAACC,QAAD,QACnCH,CAAAA,WAAW,CACTG,QAAQ,CAACC,IAAT,CAAcC,GAAd,CAAkB,SAACC,GAAD,QAAU,CAC1BC,EAAE,CAAED,GAAG,CAACC,EADkB,CAE1BC,OAAO,CAAEF,GAAG,CAACG,IAAJ,EAFiB,CAAV,EAAlB,CADS,CADwB,EAArC,EAQD,CATQ,CASN,EATM,CAAT,CAWA,GAAMC,CAAAA,gBAAgB,CAAG,QAAnBA,CAAAA,gBAAmB,EAAM,CAC7B,GAAMC,CAAAA,WAAW,CAAGC,MAAM,CAAC,2BAAD,CAA1B,CAEA,GAAID,WAAJ,CAAiB,CACfhB,EAAE,CAACM,UAAH,CAAc,UAAd,EAA0BY,GAA1B,CAA8B,CAC5BF,WAAW,CAAEA,WADe,CAA9B,EAGD,CACF,CARD,CAUA,mBACE,2BAAK,SAAS,CAAC,SAAf,eACE,2BAAK,SAAS,CAAC,cAAf,eAEE,2BAAK,SAAS,CAAC,kBAAf,eACA,oBAAC,MAAD,EAAQ,OAAO,CAAE,yBAAMf,CAAAA,IAAI,CAACkB,OAAL,EAAN,EAAjB,CAAuC,GAAG,CAAEhB,IAAI,CAACiB,KAAjD,EADA,cAEA,2BAAK,SAAS,CAAC,sBAAf,eACE,8BAAKjB,IAAI,CAACkB,WAAV,CADF,CAFA,CAFF,CADF,cAcE,2BAAK,SAAS,CAAC,mBAAf,eACE,2BAAK,SAAS,CAAC,yBAAf,eACE,2BAAK,SAAS,CAAC,iBAAf,eAEE,8CAFF,CADF,qBAME,oBAAC,OAAD,EAAS,OAAO,CAAEN,gBAAlB,CAAoC,SAAS,CAAC,qBAA9C,EANF,CADF,cASE,2BAAK,SAAS,CAAC,uBAAf,EACGX,QAAQ,CAACM,GAAT,CAAa,kBAAGE,CAAAA,EAAH,MAAGA,EAAH,CAAOC,OAAP,MAAOA,OAAP,oBACZ,oBAAC,cAAD,EACE,GAAG,CAAED,EADP,CAEE,EAAE,CAAEA,EAFN,CAGE,WAAW,CAAEC,OAAO,CAACG,WAHvB,EADY,EAAb,CADH,CATF,CAdF,CADF,CAsCD,CAED,cAAed,CAAAA,OAAf","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport \"./Sidebar.css\";\nimport AddIcon from \"@material-ui/icons/Add\";\nimport SidebarChannel from \"./SidebarChannel\";\nimport { Avatar } from \"@material-ui/core\";\nimport { selectUser } from \"./features/userSlice\";\nimport { useSelector } from \"react-redux\";\nimport db, { auth } from \"./firebase\";\n\nfunction Sidebar() {\n  const user = useSelector(selectUser);\n\n  const [channels, setChannels] = useState([]);\n\n  useEffect(() => {\n    db.collection(\"channels\").onSnapshot((snapshot) =>\n      setChannels(\n        snapshot.docs.map((doc) => ({\n          id: doc.id,\n          channel: doc.data(),\n        }))\n      )\n    );\n  }, []);\n\n  const handleAddChannel = () => {\n    const channelName = prompt(\"Enter a new channel name:\");\n\n    if (channelName) {\n      db.collection(\"channels\").add({\n        channelName: channelName,\n      });\n    }\n  };\n\n  return (\n    <div className=\"sidebar\">\n      <div className=\"sidebar__top\">\n        \n        <div className=\"sidebar__profile\">\n        <Avatar onClick={() => auth.signOut()} src={user.photo} />\n        <div className=\"sidebar__profileInfo\">\n          <h4>{user.displayName}</h4>\n          \n        </div>\n        \n      </div>\n        \n      </div>\n\n      <div className=\"sidebar__channels\">\n        <div className=\"sidebar__channelsHeader\">\n          <div className=\"sidebar__header\">\n            \n            <h4>Text Channels</h4>\n          </div>\n          Â \n          <AddIcon onClick={handleAddChannel} className=\"sidebar__addChannel\" />\n        </div>\n        <div className=\"sidebar__channelsList\">\n          {channels.map(({ id, channel }) => (\n            <SidebarChannel\n              key={id}\n              id={id}\n              channelName={channel.channelName}\n            />\n          ))}\n        </div>\n      </div>\n      \n      \n    </div>\n  );\n}\n\nexport default Sidebar;\n"]},"metadata":{},"sourceType":"module"}